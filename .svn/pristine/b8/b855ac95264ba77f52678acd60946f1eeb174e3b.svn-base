package member.login;

import java.net.URL;
import java.util.ResourceBundle;

import com.jfoenix.controls.JFXButton;
import com.jfoenix.controls.JFXTextField;

import javafx.event.ActionEvent;
import javafx.fxml.FXML;
import javafx.fxml.Initializable;
import member.mailingSystem.Mail;
import member.service.IMemberService;
import member.service.MemberServiceImpl;

public class FindPWController implements Initializable{
	
	@FXML
    private JFXTextField tfInputEmail;

    @FXML
    private JFXTextField tfInputId;

    @FXML
    private JFXButton btnRequestTempPw;

    @FXML
    void onClickExit(ActionEvent event) {
    	
    }

    @FXML
    void onRequestTempPw(ActionEvent event) {
//    	String id = tfInputId.getText();
//    	String email = tfInputEmail.getText();
//    	
//    	IMemberService service = MemberServiceImpl.getInstance();
//    	int chk = service.checkCorrectEmail(id, email);
//    	
//    	if(chk==1) {
//    		String emailIdNum = String.valueOf((int)(Math.random()*25+65))+String.valueOf((int)(Math.random()*25+65))+Integer.toString(((int)(Math.random()*8999+1000)));
//    		int cnt = service.updateTempPw(id, emailIdNum);
//    		
//    		String from = "ddhrdmakeit@gmail.com"; // 보내는 사람의 이메일
//    		String to = email; // 받는 사람의 이메일
//    		String cc = ""; //참조하는 이메일
//    		String subject = "새로운 임시 비밀번호입니다.";
//    		String content = (String)("귀하의 임시 비밀번호는"+"\n"+emailIdNum+"\n"+"입니다.");
//    		
//    		try {
//    			Mail mt = new Mail();
//    			mt.sendMail(from, to, cc, subject, content);
//    			System.out.println("인증 메일을 전송하였습니다.");
//    		} catch (Exception e) {
//    			System.out.println("메일 전송에 실패하였습니다.");
//    			System.out.println("실패 이유 : "+e.getMessage());
//    		}
//    	}
    }

	@Override
	public void initialize(URL location, ResourceBundle resources) {
		
	}

}
